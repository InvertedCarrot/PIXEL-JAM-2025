[gd_scene load_steps=8 format=3 uid="uid://c5djsy4nr40ou"]

[ext_resource type="PackedScene" uid="uid://4ixo48h447bf" path="res://scenes/UI.tscn" id="1_fvsps"]
[ext_resource type="Script" path="res://scenes/levels/set_dungeon.gd" id="1_snu1k"]
[ext_resource type="Texture2D" uid="uid://benwi57lr4xvf" path="res://assets/grid_debug.png" id="2_nh1dj"]
[ext_resource type="Texture2D" uid="uid://s86be4ny2v0k" path="res://assets/tilemap.png" id="3_fmuyh"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_3o2xx"]
bounce = 1.0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_eqn51"]
resource_name = "dungeon"
texture = ExtResource("3_fmuyh")
texture_region_size = Vector2i(60, 60)
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(6, 30, 6, 24, 24, 6, 30, 6, 30, -6, 12, -6, -6, 12, -6, 30)
1:0/0 = 0
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-30, -6, 30, -6, 30, 6, -30, 6)
2:0/0 = 0
2:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-30, 6, -24, 6, -6, 24, -6, 30, 6, 30, 6, 12, -12, -6, -30, -6)
3:0/0 = 0
3:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-6, -30, -6, -24, -24, -6, -30, -6, -30, 6, -12, 6, 6, -12, 6, -30)
4:0/0 = 0
4:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(30, -6, 24, -6, 6, -24, 6, -30, -6, -30, -6, -12, 12, 6, 30, 6)
0:1/0 = 0
0:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(6, -30, 6, 30, -6, 30, -6, -30)
1:1/0 = 0
2:1/0 = 0
2:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(6, -30, 6, 30, -6, 30, -6, -30)
3:1/0 = 0
3:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-30, 6, -24, 6, -6, 24, -6, 30, 6, 30, 6, 12, -12, -6, -30, -6)
4:1/0 = 0
4:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(6, 30, 6, 24, 24, 6, 30, 6, 30, -6, 12, -6, -6, 12, -6, 30)
0:2/0 = 0
0:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(30, -6, 24, -6, 6, -24, 6, -30, -6, -30, -6, -12, 12, 6, 30, 6)
1:2/0 = 0
1:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-30, -6, 30, -6, 30, 6, -30, 6)
2:2/0 = 0
2:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-6, -30, -6, -24, -24, -6, -30, -6, -30, 6, -12, 6, 6, -12, 6, -30)

[sub_resource type="TileSet" id="TileSet_tnuq8"]
tile_size = Vector2i(60, 60)
physics_layer_0/collision_layer = 8
physics_layer_0/collision_mask = 3
physics_layer_0/physics_material = SubResource("PhysicsMaterial_3o2xx")
sources/0 = SubResource("TileSetAtlasSource_eqn51")

[node name="AbstractDungeon" type="Node2D"]
script = ExtResource("1_snu1k")

[node name="DebugBackground" type="Sprite2D" parent="."]
texture_repeat = 2
position = Vector2(25, 22)
texture = ExtResource("2_nh1dj")
region_enabled = true
region_rect = Rect2(-18643.3, -10830.9, 35777.3, 21825.5)
metadata/_edit_lock_ = true

[node name="TileMap" type="TileMapLayer" parent="."]
tile_set = SubResource("TileSet_tnuq8")

[node name="Rooms" type="Node2D" parent="."]
unique_name_in_owner = true

[node name="Player" type="Node2D" parent="."]
unique_name_in_owner = true

[node name="Enemies" type="Node2D" parent="."]
unique_name_in_owner = true

[node name="DeadEnemies" type="Node2D" parent="."]
unique_name_in_owner = true

[node name="AttackEntities" type="Node2D" parent="."]
unique_name_in_owner = true

[node name="UI" parent="." instance=ExtResource("1_fvsps")]

[node name="Decorations" type="Node2D" parent="."]

[connection signal="child_entered_tree" from="Player" to="UI" method="_on_player_child_entered_tree"]
[connection signal="child_entered_tree" from="Enemies" to="UI" method="_on_enemies_child_entered_tree"]
